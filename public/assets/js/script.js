"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var AttrHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toggleClass",value:function(e,t){for(var n=e.className.split(/\s+/),i=n.length,a=0;a<i;a++)if(n[a]===t){n.splice(a,1);break}i===n.length&&n.push(t),e.className=n.join(" ")}},{key:"hasClass",value:function(e,t){return-1!==e.className.indexOf(t)}},{key:"removeElementsByClass",value:function(e){for(;e.length>0;)e[0].parentNode.removeChild(e[0])}}]),e}(),PositionHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}}]),e}(),Animations=function(){function e(){_classCallCheck(this,e),this.animations={},this.speed=100,this.position_helper=new PositionHelper}return _createClass(e,[{key:"init",value:function(){var e=this;this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]")),this.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)}),window.addEventListener("scroll",function(t){e.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)})})}},{key:"animate",value:function(e){var t=e.dataset.animation||e.getAttribute("animation"),n=e.dataset.animationSpeed||this.speed;n=isNaN(n)?this.speed:n,"function"==typeof this[t]&&this[t](e,n),this.removeAnimation(e)}},{key:"typewriter",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(i=0==i.length?e.innerHTML:i).length;e.innerHTML=a,a+=i.charAt(o),e.innerHTML=a+"<span class='typwriter__blink'>_</span>",o<r&&(o++,setTimeout(function(){n.typewriter(e,t,i,a,o)},t))}},{key:"removeAnimation",value:function(e){e.removeAttribute("data-animation"),this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]"))}}]),e}(),animations=new Animations,ChatBox=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementsByClassName("chat-box")[0].parentNode,n=document.getElementsByClassName("chat-box")[0],i=document.getElementsByClassName("welcome"),a=n.querySelector("form");a.addEventListener("submit",function(n){a.querySelector("#message").value="",n.preventDefault(),e.attr_helper.removeElementsByClass(i),e.attr_helper.toggleClass(t,"h-100")})}}]),e}(),chatbox=new ChatBox,SideBar=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementById("layout"),n=document.getElementById("menu"),i=document.getElementById("menuLink"),a=document.getElementById("main"),o=[t,n,i];i.onclick=function(t){e.toggleSideBar(t,o,"active")},a.onclick=function(t){e.attr_helper.hasClass(n,"active")&&e.toggleSideBar(t,o,"active")}}},{key:"toggleSideBar",value:function(e,t,n){var i=this;e.preventDefault(),t.forEach(function(e){i.attr_helper.toggleClass(e,n)})}}]),e}(),sideBar=new SideBar;sideBar.init(),animations.init(),chatbox.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImhlbHBlci9hdHRyX2hlbHBlci5qcyIsImhlbHBlci9wb3NpdGlvbl9oZWxwZXIuanMiLCJsYXlvdXQvYW5pbWF0aW9ucy5qcyIsImxheW91dC9jaGF0Ym94LmpzIiwibGF5b3V0L3NpZGViYXIuanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiQXR0ckhlbHBlciIsInRoaXMiLCJ2YWx1ZSIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwic3BsaXQiLCJzcGxpY2UiLCJwdXNoIiwiam9pbiIsImluZGV4T2YiLCJlbGVtZW50cyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIlBvc2l0aW9uSGVscGVyIiwiZWwiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZWxfdG9wIiwidG9wIiwiZWxfYm90IiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJBbmltYXRpb25zIiwiYW5pbWF0aW9ucyIsInNwZWVkIiwicG9zaXRpb25faGVscGVyIiwiX3RoaXMiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhbmltYXRpb24iLCJpc1Njcm9sbGVkSW50b1ZpZXciLCJhbmltYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJhbmltYXRpb25fdHlwZSIsImRhdGFzZXQiLCJnZXRBdHRyaWJ1dGUiLCJhbmltYXRpb25fc3BlZWQiLCJhbmltYXRpb25TcGVlZCIsImlzTmFOIiwicmVtb3ZlQW5pbWF0aW9uIiwiX3RoaXMyIiwiZnVsbF9zdHJpbmciLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ0ZW1wX3N0cmluZyIsImxpbWl0IiwiaW5uZXJIVE1MIiwiY2hhckF0Iiwic2V0VGltZW91dCIsInR5cGV3cml0ZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJDaGF0Qm94IiwiYXR0cl9oZWxwZXIiLCJfdGhpczMiLCJjb250YWluZXIiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2hhdGJveCIsIndlbGNvbWUiLCJjaGF0Ym94X2Zvcm0iLCJxdWVyeVNlbGVjdG9yIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVFbGVtZW50c0J5Q2xhc3MiLCJ0b2dnbGVDbGFzcyIsIlNpZGVCYXIiLCJfdGhpczQiLCJsYXlvdXQiLCJnZXRFbGVtZW50QnlJZCIsIm1lbnUiLCJtZW51TGluayIsImNvbnRlbnQiLCJ0b2dnbGVkRWxlbWVudCIsIm9uY2xpY2siLCJ0b2dnbGVTaWRlQmFyIiwiaGFzQ2xhc3MiLCJhY3RpdmUiLCJfdGhpczUiLCJzaWRlQmFyIiwiaW5pdCJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxTQUFTQSxnQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsYUFBb0JDLEdBQWdCLE1BQU0sSUFBSUMsVUFBVSxxQ0FFaEgsU0FBU0Msa0JBQWtCQyxFQUFRQyxHQUFTLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsSUFBSUUsRUFBYUgsRUFBTUMsR0FBSUUsRUFBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsVUFBV0YsSUFBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQUU3UyxTQUFTTyxhQUFhZCxFQUFhZSxFQUFZQyxHQUFtSixPQUFoSUQsR0FBWWIsa0JBQWtCRixFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFkLGtCQUFrQkYs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QyxHQUlBQSxFQUFBRyxRQUFBLFNBQUF2QyxHQUNBZ0MsRUFBQVEsY0FBQXhDLEVBQUFzQyxFQUhBLFdBTUFELEVBQUFFLFFBQUEsU0FBQXZDLEdBQ0FnQyxFQUFBWixZQUFBcUIsU0FBQU4sRUFQQSxXQVFBSCxFQUFBUSxjQUFBeEMsRUFBQXNDLEVBUkEsYUwwTkssQ0FDRGxGLElBQUssZ0JBQ0xPLE1BQU8sU0svTVhxQyxFQUFBNUIsRUFBQXNFLEdBQUEsSUFBQUMsRUFBQWpGLEtBQ0FzQyxFQUFBNEIsaUJBQ0F4RCxFQUFBdUIsUUFBQSxTQUFBL0IsR0FDQStFLEVBQUF2QixZQUFBVSxZQUFBbEUsRUFBQThFLFNMc05TWCxFQXpDVCxHS3hLQWEsUUFBQSxJQUFBYixRTHhDQWEsUUFBQUMsT0FHQTNELFdBQUEyRCxPQUdBckIsUUFBQXFCIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vSW5jbHVkZSBKUyBmaWxlcyBmcm9tIGluY2x1ZGUgZm9sZGVyIGhlcmUgYW5kIHNvcnQgdGhlbSBhY2NvcmRpbmcgdG8gaXRzIGRlcGVuZGVuY2llc1xyXG5cclxuLy9DYWxsIHNpZGViYXIuanNcclxuc2lkZUJhci5pbml0KClcclxuXHJcbi8vQ2FsbCBhbmltYXRpb25zLmpzXHJcbmFuaW1hdGlvbnMuaW5pdCgpXHJcblxyXG4vL0NhbGwgY2hhdGJveC5qc1xyXG5jaGF0Ym94LmluaXQoKSIsImNsYXNzIEF0dHJIZWxwZXIge1xyXG4gICAgdG9nZ2xlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgbGV0IGNsYXNzZXMgPSBlbGVtZW50LmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLFxyXG4gICAgICAgICAgICBsZW5ndGggPSBjbGFzc2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDBcclxuXHJcbiAgICAgICAgZm9yKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoY2xhc3Nlc1tpXSA9PT0gY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMuc3BsaWNlKGksIDEpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGUgY2xhc3NOYW1lIGlzIG5vdCBmb3VuZFxyXG4gICAgICAgIGlmIChsZW5ndGggPT09IGNsYXNzZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpXHJcbiAgICB9XHJcblxyXG4gICAgaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSkgIT09IC0xXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRWxlbWVudHNCeUNsYXNzKGVsZW1lbnRzKSB7XHJcbiAgICAgIFxyXG4gICAgICB3aGlsZShlbGVtZW50cy5sZW5ndGggPiAwKXtcclxuICAgICAgICBlbGVtZW50c1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRzWzBdKTtcclxuICAgICAgfVxyXG4gICAgIFxyXG4gICAgfVxyXG59IiwiY2xhc3MgUG9zaXRpb25IZWxwZXIge1xyXG4gICAgaXNTY3JvbGxlZEludG9WaWV3KGVsKSB7XHJcbiAgICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGxldCBlbF90b3AgPSByZWN0LnRvcDtcclxuICAgICAgbGV0IGVsX2JvdCA9IHJlY3QuYm90dG9tO1xyXG5cclxuICAgICAgLy9sZXQgaXNWaXNpYmxlID0gKGVsX3RvcCA+PSAwKSAmJiAoZWxfYm90IDw9IHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgXHJcbiAgICAgIGxldCBpc1Zpc2libGUgPSBlbF90b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgZWxfYm90ID49IDA7XHJcbiAgICAgIHJldHVybiBpc1Zpc2libGU7XHJcbiAgfVxyXG59IiwiLypcclxuKlxyXG5BbmltYXRpb25zIENsYXNzIC0gYnkgc2NhdmVudHVtXHJcbipcclxuVXNhZ2U6XHJcbjEuIEFkZCA8ZGF0YS1hbmltYXRpb249XCJbb3B0aW9uc11cIj4gYXMgcmVxdWlyZWQgZWxlbWVudCBhdHRyaWJ1dGUuXHJcbiAgIFtvcHRpb25zXSBhdmFpbGFibGU6XHJcbiAgIC0gdHlwZXdyaXRlclxyXG4yLiBBZGQgPGRhdGEtYW5pbWF0aW9uLXNwZWVkPVwiW3ZhbHVlXVwiPiBhcyBvcHRpb25hbCBlbGVtZW50IGF0dHJpYnV0ZS5cclxuICAgW3ZhbHVlXTogcG9zaXRpdmUgaW50ZWdlciBpbiBtaWxsaXNlY29uZHMgXHJcbipcclxuKi9cclxuXHJcbmNsYXNzIEFuaW1hdGlvbnMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge31cclxuICAgICAgICB0aGlzLnNwZWVkID0gMTAwXHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbl9oZWxwZXIgPSBuZXcgUG9zaXRpb25IZWxwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKXtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW5pbWF0aW9uXVwiKSlcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBpZih0aGlzLnBvc2l0aW9uX2hlbHBlci5pc1Njcm9sbGVkSW50b1ZpZXcoYW5pbWF0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMucG9zaXRpb25faGVscGVyLmlzU2Nyb2xsZWRJbnRvVmlldyhhbmltYXRpb24pKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYW5pbWF0ZShhbmltYXRpb24pe1xyXG4gICAgICAgIGxldCBhbmltYXRpb25fdHlwZSA9IGFuaW1hdGlvbi5kYXRhc2V0LmFuaW1hdGlvbiB8fCBhbmltYXRpb24uZ2V0QXR0cmlidXRlKCdhbmltYXRpb24nKVxyXG4gICAgICAgIGxldCBhbmltYXRpb25fc3BlZWQgPSBhbmltYXRpb24uZGF0YXNldC5hbmltYXRpb25TcGVlZCB8fCB0aGlzLnNwZWVkXHJcbiAgICAgICAgYW5pbWF0aW9uX3NwZWVkID0gaXNOYU4oYW5pbWF0aW9uX3NwZWVkKSA/IHRoaXMuc3BlZWQgOiBhbmltYXRpb25fc3BlZWRcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzW2FuaW1hdGlvbl90eXBlXSA9PT0gXCJmdW5jdGlvblwiKSB7IFxyXG4gICAgICAgICAgICB0aGlzW2FuaW1hdGlvbl90eXBlXShhbmltYXRpb24sYW5pbWF0aW9uX3NwZWVkKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJlbW92ZUFuaW1hdGlvbihhbmltYXRpb24pXHJcbiAgICB9XHJcblxyXG4gICAgdHlwZXdyaXRlcihhbmltYXRpb24sc3BlZWQsZnVsbF9zdHJpbmcgPSBcIlwiLHRlbXBfc3RyaW5nID0gXCJcIixpID0gMCl7XHJcbiAgICAgICAgZnVsbF9zdHJpbmcgPSBmdWxsX3N0cmluZy5sZW5ndGggPT0gMCA/IGFuaW1hdGlvbi5pbm5lckhUTUwgOiBmdWxsX3N0cmluZ1xyXG4gICAgICAgIGxldCBsaW1pdCA9IGZ1bGxfc3RyaW5nLmxlbmd0aFxyXG5cclxuICAgICAgICBhbmltYXRpb24uaW5uZXJIVE1MID0gdGVtcF9zdHJpbmdcclxuICAgICAgICB0ZW1wX3N0cmluZyArPSBmdWxsX3N0cmluZy5jaGFyQXQoaSlcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLmlubmVySFRNTCA9IHRlbXBfc3RyaW5nICtcIjxzcGFuIGNsYXNzPSd0eXB3cml0ZXJfX2JsaW5rJz5fPC9zcGFuPlwiXHJcblxyXG4gICAgICAgIGlmKGkgPCBsaW1pdCl7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGV3cml0ZXIoYW5pbWF0aW9uLHNwZWVkLGZ1bGxfc3RyaW5nLHRlbXBfc3RyaW5nLGkpXHJcbiAgICAgICAgICAgIH0sIHNwZWVkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBbmltYXRpb24oYW5pbWF0aW9uKXtcclxuICAgICAgICBhbmltYXRpb24ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicpXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWFuaW1hdGlvbl1cIikpXHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBhbmltYXRpb25zID0gbmV3IEFuaW1hdGlvbnMoKVxyXG5cclxuIiwiLypcclxuKlxyXG5DaGF0Qm94IENsYXNzIC0gYnkgc2NhdmVudHVtXHJcbipcclxuKi9cclxuXHJcbmNsYXNzIENoYXRCb3gge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRyX2hlbHBlciA9IG5ldyBBdHRySGVscGVyKCkgIFxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2hhdC1ib3gnKVswXS5wYXJlbnROb2RlXHJcbiAgICAgICAgdmFyIGNoYXRib3ggICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NoYXQtYm94JylbMF1cclxuICAgICAgICB2YXIgd2VsY29tZSAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3ZWxjb21lJylcclxuXHJcbiAgICAgICAgdmFyIGNoYXRib3hfZm9ybSA9IGNoYXRib3gucXVlcnlTZWxlY3RvcignZm9ybScpO1xyXG4gICAgICAgIGNoYXRib3hfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcclxuICAgICAgICAgICAgY2hhdGJveF9mb3JtLnF1ZXJ5U2VsZWN0b3IoJyNtZXNzYWdlJykudmFsdWUgPSAnJ1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgdGhpcy5hdHRyX2hlbHBlci5yZW1vdmVFbGVtZW50c0J5Q2xhc3Mod2VsY29tZSlcclxuICAgICAgICAgICAgdGhpcy5hdHRyX2hlbHBlci50b2dnbGVDbGFzcyhjb250YWluZXIsICdoLTEwMCcpIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgY2hhdGJveCA9IG5ldyBDaGF0Qm94KCkiLCIvKlxyXG4qXHJcblNpZGVCYXIgQ2xhc3MgLSBieSBzY2F2ZW50dW0gZnJvbSBQdXJlLmNzc1xyXG4qXHJcbiovXHJcblxyXG5jbGFzcyBTaWRlQmFyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXR0cl9oZWxwZXIgPSBuZXcgQXR0ckhlbHBlcigpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB2YXIgbGF5b3V0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF5b3V0JyksXHJcbiAgICAgICAgICAgIG1lbnUgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKSxcclxuICAgICAgICAgICAgbWVudUxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudUxpbmsnKSxcclxuICAgICAgICAgICAgY29udGVudCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpXHJcblxyXG4gICAgICAgIGxldCB0b2dnbGVkRWxlbWVudCA9IFtcclxuICAgICAgICAgICAgbGF5b3V0LFxyXG4gICAgICAgICAgICBtZW51LFxyXG4gICAgICAgICAgICBtZW51TGlua1xyXG4gICAgICAgIF0sXHJcbiAgICAgICAgYWN0aXZlID0gJ2FjdGl2ZSdcclxuXHJcbiAgICAgICAgbWVudUxpbmsub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlU2lkZUJhcihlLCB0b2dnbGVkRWxlbWVudCwgYWN0aXZlKVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBjb250ZW50Lm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRyX2hlbHBlci5oYXNDbGFzcyhtZW51LGFjdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlU2lkZUJhcihlLCB0b2dnbGVkRWxlbWVudCwgYWN0aXZlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTaWRlQmFyKGUsIGVsZW1lbnRzLCBhY3RpdmUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmF0dHJfaGVscGVyLnRvZ2dsZUNsYXNzKGVsZW1lbnQsIGFjdGl2ZSkgXHJcbiAgICAgICAgfSkgXHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBzaWRlQmFyID0gbmV3IFNpZGVCYXIoKVxyXG4iXX0=
