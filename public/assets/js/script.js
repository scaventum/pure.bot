"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var AttrHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toggleClass",value:function(e,t){for(var n=e.className.split(/\s+/),i=n.length,a=0;a<i;a++)if(n[a]===t){n.splice(a,1);break}i===n.length&&n.push(t),e.className=n.join(" ")}},{key:"hasClass",value:function(e,t){return-1!==e.className.indexOf(t)}}]),e}(),PositionHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}}]),e}(),Animations=function(){function e(){_classCallCheck(this,e),this.animations={},this.speed=100,this.position_helper=new PositionHelper}return _createClass(e,[{key:"init",value:function(){var e=this;this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]")),this.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)}),window.addEventListener("scroll",function(t){e.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)})})}},{key:"animate",value:function(e){var t=e.dataset.animation||e.getAttribute("animation"),n=e.dataset.animationSpeed||this.speed;n=isNaN(n)?this.speed:n,"function"==typeof this[t]&&this[t](e,n),this.removeAnimation(e)}},{key:"typewriter",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(i=0==i.length?e.innerHTML:i).length;e.innerHTML=a,a+=i.charAt(o),o>0&&o<r&&(e.innerHTML=a+"_"),o<r&&(o++,setTimeout(function(){n.typewriter(e,t,i,a,o)},t))}},{key:"removeAnimation",value:function(e){e.removeAttribute("data-animation"),this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]"))}}]),e}(),SideBar=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementById("layout"),n=document.getElementById("menu"),i=document.getElementById("menuLink"),a=document.getElementById("main"),o=[t,n,i];i.onclick=function(t){e.toggleSideBar(t,o,"active")},a.onclick=function(t){e.attr_helper.hasClass(n,"active")&&e.toggleSideBar(t,o,"active")}}},{key:"toggleSideBar",value:function(e,t,n){var i=this;e.preventDefault(),t.forEach(function(e){i.attr_helper.toggleClass(e,n)})}}]),e}(),sideBar=new SideBar;sideBar.init();var animations=new Animations;animations.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImhlbHBlci9hdHRyX2hlbHBlci5qcyIsImhlbHBlci9wb3NpdGlvbl9oZWxwZXIuanMiLCJsYXlvdXQvYW5pbWF0aW9ucy5qcyIsImxheW91dC9zaWRlYmFyLmpzIl0sIm5hbWVzIjpbIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkF0dHJIZWxwZXIiLCJ0aGlzIiwidmFsdWUiLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NlcyIsInNwbGl0Iiwic3BsaWNlIiwicHVzaCIsImpvaW4iLCJpbmRleE9mIiwiUG9zaXRpb25IZWxwZXIiLCJlbCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbF90b3AiLCJ0b3AiLCJlbF9ib3QiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkFuaW1hdGlvbnMiLCJhbmltYXRpb25zIiwic3BlZWQiLCJwb3NpdGlvbl9oZWxwZXIiLCJfdGhpcyIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlzU2Nyb2xsZWRJbnRvVmlldyIsImFuaW1hdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImFuaW1hdGlvbl90eXBlIiwiZGF0YXNldCIsImdldEF0dHJpYnV0ZSIsImFuaW1hdGlvbl9zcGVlZCIsImFuaW1hdGlvblNwZWVkIiwiaXNOYU4iLCJyZW1vdmVBbmltYXRpb24iLCJfdGhpczIiLCJmdWxsX3N0cmluZyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRlbXBfc3RyaW5nIiwibGltaXQiLCJpbm5lckhUTUwiLCJjaGFyQXQiLCJzZXRUaW1lb3V0IiwidHlwZXdyaXRlciIsInJlbW92ZUF0dHJpYnV0ZSIsIlNpZGVCYXIiLCJhdHRyX2hlbHBlciIsIl90aGlzMyIsImxheW91dCIsImdldEVsZW1lbnRCeUlkIiwibWVudSIsIm1lbnVMaW5rIiwiY29udGVudCIsInRvZ2dsZWRFbGVtZW50Iiwib25jbGljayIsInRvZ2dsZVNpZGVCYXIiLCJoYXNDbGFzcyIsImVsZW1lbnRzIiwiYWN0aXZlIiwiX3RoaXM0IiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVDbGFzcyIsInNpZGVCYXIiLCJpbml0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLGdCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxhQUFvQkMsR0FBZ0IsTUFBTSxJQUFJQyxVQUFVLHFDQUVoSCxTQUFTQyxrQkFBa0JDLEVBQVFDLEdBQVMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxJQUFJRSxFQUFhSCxFQUFNQyxHQUFJRSxFQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBRTdTLFNBQVNPLGFBQWFkLEVBQWFlLEVBQVlDLEdBQW1KLE9BQWhJRCxHQUFZYixrQkFBa0JGLEVBQVlpQixVQUFXRixHQUFpQkMsR0FBYWQsa0JBQWtCRixFQUFhZ0IsR0FBcUJoQixFQUV6TSxJQ1JBa0IsV0RVQSxXQUNFLFNBQVNBLElBQ1BwQixnQkFBZ0JxQixLQUFNRCxHQStCeEIsT0E1QkFKLGFBQWFJLEVBQVksQ0FBQyxDQUN4QkwsSUFBSyxjQUNMTyxNQUFPLFNDaEJYQyxFQUFBQyxHQUtBLElBSkEsSUFBQUMsRUFBQUYsRUFBQUMsVUFBQUUsTUFBQSxPQUNBbEIs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LFdKcU1FLE9BbENBSixhQUFhMkQsRUFBUyxDQUFDLENBQ3JCNUQsSUFBSyxPQUNMTyxNQUFPLFdJbEtYLElBQUF1RCxFQUFBeEQsS0FDQXlELEVBQUE3QixTQUFBOEIsZUFBQSxVQUNBQyxFQUFBL0IsU0FBQThCLGVBQUEsUUFDQUUsRUFBQWhDLFNBQUE4QixlQUFBLFlBQ0FHLEVBQUFqQyxTQUFBOEIsZUFBQSxRQUVBSSxFQUFBLENBQ0FMLEVBQ0FFLEVBQ0FDLEdBSUFBLEVBQUFHLFFBQUEsU0FBQTVCLEdBQ0FxQixFQUFBUSxjQUFBN0IsRUFBQTJCLEVBSEEsV0FNQUQsRUFBQUUsUUFBQSxTQUFBNUIsR0FDQXFCLEVBQUFELFlBQUFVLFNBQUFOLEVBUEEsV0FRQUgsRUFBQVEsY0FBQTdCLEVBQUEyQixFQVJBLGFKMktLLENBQ0RwRSxJQUFLLGdCQUNMTyxNQUFPLFNJaEtYa0MsRUFBQStCLEVBQUFDLEdBQUEsSUFBQUMsRUFBQXBFLEtBQ0FtQyxFQUFBa0MsaUJBQ0FILEVBQUFwQyxRQUFBLFNBQUE1QixHQUNBa0UsRUFBQWIsWUFBQWUsWUFBQXBFLEVBQUFpRSxTSnVLU2IsRUF6Q1QsR0FqS0FpQixRQUFBLElBQUFqQixRQUNBaUIsUUFBQUMsT0FHQSxJQUFBbkQsV0FBQSxJQUFBRCxXQUNBQyxXQUFBbUQiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9JbmNsdWRlIEpTIGZpbGVzIGZyb20gaW5jbHVkZSBmb2xkZXIgaGVyZSBhbmQgc29ydCB0aGVtIGFjY29yZGluZyB0byBpdHMgZGVwZW5kZW5jaWVzXHJcblxyXG4vL0NhbGwgc2lkZWJhci5qc1xyXG5sZXQgc2lkZUJhciA9IG5ldyBTaWRlQmFyKClcclxuc2lkZUJhci5pbml0KClcclxuXHJcbi8vQ2FsbCBhbmltYXRpb25zLmpzXHJcbmxldCBhbmltYXRpb25zID0gbmV3IEFuaW1hdGlvbnMoKVxyXG5hbmltYXRpb25zLmluaXQoKSIsImNsYXNzIEF0dHJIZWxwZXIge1xyXG4gICAgdG9nZ2xlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgbGV0IGNsYXNzZXMgPSBlbGVtZW50LmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLFxyXG4gICAgICAgICAgICBsZW5ndGggPSBjbGFzc2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgaSA9IDBcclxuXHJcbiAgICAgICAgZm9yKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoY2xhc3Nlc1tpXSA9PT0gY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMuc3BsaWNlKGksIDEpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGUgY2xhc3NOYW1lIGlzIG5vdCBmb3VuZFxyXG4gICAgICAgIGlmIChsZW5ndGggPT09IGNsYXNzZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpXHJcbiAgICB9XHJcblxyXG4gICAgaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSkgIT09IC0xXHJcbiAgICB9XHJcbn0iLCJjbGFzcyBQb3NpdGlvbkhlbHBlciB7XHJcbiAgICBpc1Njcm9sbGVkSW50b1ZpZXcoZWwpIHtcclxuICAgICAgbGV0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgbGV0IGVsX3RvcCA9IHJlY3QudG9wO1xyXG4gICAgICBsZXQgZWxfYm90ID0gcmVjdC5ib3R0b207XHJcblxyXG4gICAgICAvL2xldCBpc1Zpc2libGUgPSAoZWxfdG9wID49IDApICYmIChlbF9ib3QgPD0gd2luZG93LmlubmVySGVpZ2h0KVxyXG4gICAgICBcclxuICAgICAgbGV0IGlzVmlzaWJsZSA9IGVsX3RvcCA8IHdpbmRvdy5pbm5lckhlaWdodCAmJiBlbF9ib3QgPj0gMDtcclxuICAgICAgcmV0dXJuIGlzVmlzaWJsZTtcclxuICB9XHJcbn0iLCIvKlxyXG4qXHJcbkFuaW1hdGlvbnMgQ2xhc3MgLSBieSBzY2F2ZW50dW1cclxuKlxyXG5Vc2FnZTpcclxuMS4gQWRkIDxkYXRhLWFuaW1hdGlvbj1cIltvcHRpb25zXVwiPiBhcyByZXF1aXJlZCBlbGVtZW50IGF0dHJpYnV0ZS5cclxuICAgW29wdGlvbnNdIGF2YWlsYWJsZTpcclxuICAgLSB0eXBld3JpdGVyXHJcbjIuIEFkZCA8ZGF0YS1hbmltYXRpb24tc3BlZWQ9XCJbdmFsdWVdXCI+IGFzIG9wdGlvbmFsIGVsZW1lbnQgYXR0cmlidXRlLlxyXG4gICBbdmFsdWVdOiBwb3NpdGl2ZSBpbnRlZ2VyIGluIG1pbGxpc2Vjb25kcyBcclxuKlxyXG4qL1xyXG5cclxuY2xhc3MgQW5pbWF0aW9ucyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fVxyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxMDBcclxuICAgICAgICB0aGlzLnBvc2l0aW9uX2hlbHBlciA9IG5ldyBQb3NpdGlvbkhlbHBlcigpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1hbmltYXRpb25dXCIpKVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucG9zaXRpb25faGVscGVyLmlzU2Nyb2xsZWRJbnRvVmlldyhhbmltYXRpb24pKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShhbmltYXRpb24pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5wb3NpdGlvbl9oZWxwZXIuaXNTY3JvbGxlZEludG9WaWV3KGFuaW1hdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShhbmltYXRpb24pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhbmltYXRlKGFuaW1hdGlvbil7XHJcbiAgICAgICAgbGV0IGFuaW1hdGlvbl90eXBlID0gYW5pbWF0aW9uLmRhdGFzZXQuYW5pbWF0aW9uIHx8IGFuaW1hdGlvbi5nZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbicpXHJcbiAgICAgICAgbGV0IGFuaW1hdGlvbl9zcGVlZCA9IGFuaW1hdGlvbi5kYXRhc2V0LmFuaW1hdGlvblNwZWVkIHx8IHRoaXMuc3BlZWRcclxuICAgICAgICBhbmltYXRpb25fc3BlZWQgPSBpc05hTihhbmltYXRpb25fc3BlZWQpID8gdGhpcy5zcGVlZCA6IGFuaW1hdGlvbl9zcGVlZFxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXNbYW5pbWF0aW9uX3R5cGVdID09PSBcImZ1bmN0aW9uXCIpIHsgXHJcbiAgICAgICAgICAgIHRoaXNbYW5pbWF0aW9uX3R5cGVdKGFuaW1hdGlvbixhbmltYXRpb25fc3BlZWQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucmVtb3ZlQW5pbWF0aW9uKGFuaW1hdGlvbilcclxuICAgIH1cclxuXHJcbiAgICB0eXBld3JpdGVyKGFuaW1hdGlvbixzcGVlZCxmdWxsX3N0cmluZyA9IFwiXCIsdGVtcF9zdHJpbmcgPSBcIlwiLGkgPSAwKXtcclxuICAgICAgICBmdWxsX3N0cmluZyA9IGZ1bGxfc3RyaW5nLmxlbmd0aCA9PSAwID8gYW5pbWF0aW9uLmlubmVySFRNTCA6IGZ1bGxfc3RyaW5nXHJcbiAgICAgICAgbGV0IGxpbWl0ID0gZnVsbF9zdHJpbmcubGVuZ3RoXHJcblxyXG4gICAgICAgIGFuaW1hdGlvbi5pbm5lckhUTUwgPSB0ZW1wX3N0cmluZ1xyXG4gICAgICAgIHRlbXBfc3RyaW5nICs9IGZ1bGxfc3RyaW5nLmNoYXJBdChpKVxyXG5cclxuICAgICAgICBpZihpID4gMCAmJiBpIDwgbGltaXQpIGFuaW1hdGlvbi5pbm5lckhUTUwgPSB0ZW1wX3N0cmluZyArXCJfXCJcclxuXHJcbiAgICAgICAgaWYoaSA8IGxpbWl0KXtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZXdyaXRlcihhbmltYXRpb24sc3BlZWQsZnVsbF9zdHJpbmcsdGVtcF9zdHJpbmcsaSlcclxuICAgICAgICAgICAgfSwgc3BlZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUFuaW1hdGlvbihhbmltYXRpb24pe1xyXG4gICAgICAgIGFuaW1hdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJylcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW5pbWF0aW9uXVwiKSlcclxuICAgIH1cclxufVxyXG5cclxuIiwiLypcclxuKlxyXG5TaWRlQmFyIENsYXNzIC0gYnkgc2NhdmVudHVtIGZyb20gUHVyZS5jc3NcclxuKlxyXG4qL1xyXG5cclxuY2xhc3MgU2lkZUJhciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF0dHJfaGVscGVyID0gbmV3IEF0dHJIZWxwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIGxheW91dCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xheW91dCcpLFxyXG4gICAgICAgICAgICBtZW51ICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51JyksXHJcbiAgICAgICAgICAgIG1lbnVMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVMaW5rJyksXHJcbiAgICAgICAgICAgIGNvbnRlbnQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKVxyXG5cclxuICAgICAgICBsZXQgdG9nZ2xlZEVsZW1lbnQgPSBbXHJcbiAgICAgICAgICAgIGxheW91dCxcclxuICAgICAgICAgICAgbWVudSxcclxuICAgICAgICAgICAgbWVudUxpbmtcclxuICAgICAgICBdLFxyXG4gICAgICAgIGFjdGl2ZSA9ICdhY3RpdmUnXHJcblxyXG4gICAgICAgIG1lbnVMaW5rLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGVCYXIoZSwgdG9nZ2xlZEVsZW1lbnQsIGFjdGl2ZSlcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY29udGVudC5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cl9oZWxwZXIuaGFzQ2xhc3MobWVudSxhY3RpdmUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGVCYXIoZSwgdG9nZ2xlZEVsZW1lbnQsIGFjdGl2ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2lkZUJhcihlLCBlbGVtZW50cywgYWN0aXZlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5hdHRyX2hlbHBlci50b2dnbGVDbGFzcyhlbGVtZW50LCBhY3RpdmUpIFxyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG59XHJcbiJdfQ==
