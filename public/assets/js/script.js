"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var AttrHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toggleClass",value:function(e,t){for(var n=e.className.split(/\s+/),i=n.length,a=0;a<i;a++)if(n[a]===t){n.splice(a,1);break}i===n.length&&n.push(t),e.className=n.join(" ")}},{key:"hasClass",value:function(e,t){return-1!==e.className.indexOf(t)}}]),e}(),PositionHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}}]),e}(),Animations=function(){function e(){_classCallCheck(this,e),this.animations={},this.speed=100,this.position_helper=new PositionHelper}return _createClass(e,[{key:"init",value:function(){var e=this;this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]")),this.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)}),window.addEventListener("scroll",function(t){e.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)})})}},{key:"animate",value:function(e){var t=e.dataset.animation,n=e.dataset.animationSpeed||this.speed;this[t](e,n),this.removeAnimation(e)}},{key:"typewriter",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(i=0==i.length?e.innerHTML:i).length;e.innerHTML=a,a+=i.charAt(o);var l=1e3/t>1?1e3/t:1;o%l>=0&&o%l<1e3/t/2&&o<r&&(e.innerHTML=a+" <span style='font-weight:900'>_</span>"),o<r&&(o++,setTimeout(function(){n.typewriter(e,t,i,a,o)},t))}},{key:"removeAnimation",value:function(e){e.removeAttribute("data-animation"),this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]"))}}]),e}(),SideBar=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementById("layout"),n=document.getElementById("menu"),i=document.getElementById("menuLink"),a=document.getElementById("main"),o=[t,n,i];i.onclick=function(t){e.toggleSideBar(t,o,"active")},a.onclick=function(t){e.attr_helper.hasClass(n,"active")&&e.toggleSideBar(t,o,"active")}}},{key:"toggleSideBar",value:function(e,t,n){var i=this;e.preventDefault(),t.forEach(function(e){i.attr_helper.toggleClass(e,n)})}}]),e}(),sideBar=new SideBar;sideBar.init();var animations=new Animations;animations.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImhlbHBlci9hdHRyX2hlbHBlci5qcyIsImhlbHBlci9wb3NpdGlvbl9oZWxwZXIuanMiLCJsYXlvdXQvYW5pbWF0aW9ucy5qcyIsImxheW91dC9zaWRlYmFyLmpzIl0sIm5hbWVzIjpbIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkF0dHJIZWxwZXIiLCJ0aGlzIiwidmFsdWUiLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NlcyIsInNwbGl0Iiwic3BsaWNlIiwicHVzaCIsImpvaW4iLCJpbmRleE9mIiwiUG9zaXRpb25IZWxwZXIiLCJlbCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbF90b3AiLCJ0b3AiLCJlbF9ib3QiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkFuaW1hdGlvbnMiLCJhbmltYXRpb25zIiwic3BlZWQiLCJwb3NpdGlvbl9oZWxwZXIiLCJfdGhpcyIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlzU2Nyb2xsZWRJbnRvVmlldyIsImFuaW1hdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImFuaW1hdGlvbl90eXBlIiwiZGF0YXNldCIsImFuaW1hdGlvbl9zcGVlZCIsImFuaW1hdGlvblNwZWVkIiwicmVtb3ZlQW5pbWF0aW9uIiwiX3RoaXMyIiwiZnVsbF9zdHJpbmciLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ0ZW1wX3N0cmluZyIsImxpbWl0IiwiaW5uZXJIVE1MIiwiY2hhckF0IiwiYmxpbmsiLCJzZXRUaW1lb3V0IiwidHlwZXdyaXRlciIsInJlbW92ZUF0dHJpYnV0ZSIsIlNpZGVCYXIiLCJhdHRyX2hlbHBlciIsIl90aGlzMyIsImxheW91dCIsImdldEVsZW1lbnRCeUlkIiwibWVudSIsIm1lbnVMaW5rIiwiY29udGVudCIsInRvZ2dsZWRFbGVtZW50Iiwib25jbGljayIsInRvZ2dsZVNpZGVCYXIiLCJoYXNDbGFzcyIsImVsZW1lbnRzIiwiYWN0aXZlIiwiX3RoaXM0IiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVDbGFzcyIsInNpZGVCYXIiLCJpbml0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLGdCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxhQUFvQkMsR0FBZ0IsTUFBTSxJQUFJQyxVQUFVLHFDQUVoSCxTQUFTQyxrQkFBa0JDLEVBQVFDLEdBQVMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxJQUFJRSxFQUFhSCxFQUFNQyxHQUFJRSxFQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBRTdTLFNBQVNPLGFBQWFkLEVBQWFlLEVBQVlDLEdBQW1KLE9BQWhJRCxHQUFZYixrQkFBa0JGLEVBQVlpQixVQUFXRixHQUFpQkMsR0FBYWQsa0JBQWtCRixFQUFhZ0IsR0FBcUJoQixFQUV6TSxJQ1JBa0IsV0RVQSxXQUNFLFNBQVNBLElBQ1BwQixnQkFBZ0JxQixLQUFNRCxHQStCeEIsT0E1QkFKLGFBQWFJLEVBQVksQ0FBQyxDQUN4QkwsSUFBSyxjQUNMTyxNQUFPLFNDaEJYQyxFQUFBQyxHQUtBLElBSkEsSUFBQUMsRUFBQUYsRUFBQUMsVUFBQUUsTUFBQSxPQUNBbEIsRUFBQWlCLEVBQUFqQixP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T0FsQ0FKLGFBQWEwRCxFQUFTLENBQUMsQ0FDckIzRCxJQUFLLE9BQ0xPLE1BQU8sV0k5SlgsSUFBQXNELEVBQUF2RCxLQUNBd0QsRUFBQTVCLFNBQUE2QixlQUFBLFVBQ0FDLEVBQUE5QixTQUFBNkIsZUFBQSxRQUNBRSxFQUFBL0IsU0FBQTZCLGVBQUEsWUFDQUcsRUFBQWhDLFNBQUE2QixlQUFBLFFBRUFJLEVBQUEsQ0FDQUwsRUFDQUUsRUFDQUMsR0FJQUEsRUFBQUcsUUFBQSxTQUFBM0IsR0FDQW9CLEVBQUFRLGNBQUE1QixFQUFBMEIsRUFIQSxXQU1BRCxFQUFBRSxRQUFBLFNBQUEzQixHQUNBb0IsRUFBQUQsWUFBQVUsU0FBQU4sRUFQQSxXQVFBSCxFQUFBUSxjQUFBNUIsRUFBQTBCLEVBUkEsYUp1S0ssQ0FDRG5FLElBQUssZ0JBQ0xPLE1BQU8sU0k1SlhrQyxFQUFBOEIsRUFBQUMsR0FBQSxJQUFBQyxFQUFBbkUsS0FDQW1DLEVBQUFpQyxpQkFDQUgsRUFBQW5DLFFBQUEsU0FBQTVCLEdBQ0FpRSxFQUFBYixZQUFBZSxZQUFBbkUsRUFBQWdFLFNKbUtTYixFQXpDVCxHQTdKQWlCLFFBQUEsSUFBQWpCLFFBQ0FpQixRQUFBQyxPQUdBLElBQUFsRCxXQUFBLElBQUFELFdBQ0FDLFdBQUFrRCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL0luY2x1ZGUgSlMgZmlsZXMgZnJvbSBpbmNsdWRlIGZvbGRlciBoZXJlIGFuZCBzb3J0IHRoZW0gYWNjb3JkaW5nIHRvIGl0cyBkZXBlbmRlbmNpZXNcclxuXHJcbi8vQ2FsbCBzaWRlYmFyLmpzXHJcbmxldCBzaWRlQmFyID0gbmV3IFNpZGVCYXIoKVxyXG5zaWRlQmFyLmluaXQoKVxyXG5cclxuLy9DYWxsIGFuaW1hdGlvbnMuanNcclxubGV0IGFuaW1hdGlvbnMgPSBuZXcgQW5pbWF0aW9ucygpXHJcbmFuaW1hdGlvbnMuaW5pdCgpIiwiY2xhc3MgQXR0ckhlbHBlciB7XHJcbiAgICB0b2dnbGVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBsZXQgY2xhc3NlcyA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLyksXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGNsYXNzZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpID0gMFxyXG5cclxuICAgICAgICBmb3IoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChjbGFzc2VzW2ldID09PSBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgY2xhc3Nlcy5zcGxpY2UoaSwgMSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoZSBjbGFzc05hbWUgaXMgbm90IGZvdW5kXHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gY2xhc3Nlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcclxuICAgIH1cclxuXHJcbiAgICBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3NOYW1lKSAhPT0gLTFcclxuICAgIH1cclxufSIsImNsYXNzIFBvc2l0aW9uSGVscGVyIHtcclxuICAgIGlzU2Nyb2xsZWRJbnRvVmlldyhlbCkge1xyXG4gICAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgZWxfdG9wID0gcmVjdC50b3A7XHJcbiAgICAgIGxldCBlbF9ib3QgPSByZWN0LmJvdHRvbTtcclxuXHJcbiAgICAgIC8vbGV0IGlzVmlzaWJsZSA9IChlbF90b3AgPj0gMCkgJiYgKGVsX2JvdCA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpXHJcbiAgICAgIFxyXG4gICAgICBsZXQgaXNWaXNpYmxlID0gZWxfdG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICYmIGVsX2JvdCA+PSAwO1xyXG4gICAgICByZXR1cm4gaXNWaXNpYmxlO1xyXG4gIH1cclxufSIsIi8qXHJcbipcclxuQW5pbWF0aW9ucyBDbGFzcyAtIGJ5IHNjYXZlbnR1bVxyXG4qXHJcblVzYWdlOlxyXG4xLiBBZGQgPGRhdGEtYW5pbWF0aW9uPVwiW29wdGlvbnNdXCI+IGFzIHJlcXVpcmVkIGVsZW1lbnQgYXR0cmlidXRlLlxyXG4gICBbb3B0aW9uc10gYXZhaWxhYmxlOlxyXG4gICAtIHR5cGV3cml0ZXJcclxuMi4gQWRkIDxkYXRhLWFuaW1hdGlvbi1zcGVlZD1cIlt2YWx1ZV1cIj4gYXMgb3B0aW9uYWwgZWxlbWVudCBhdHRyaWJ1dGUuXHJcbiAgIFt2YWx1ZV06IHBvc2l0aXZlIGludGVnZXIgaW4gbWlsbGlzZWNvbmRzIFxyXG4qXHJcbiovXHJcblxyXG5jbGFzcyBBbmltYXRpb25zIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDEwMFxyXG4gICAgICAgIHRoaXMucG9zaXRpb25faGVscGVyID0gbmV3IFBvc2l0aW9uSGVscGVyKClcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWFuaW1hdGlvbl1cIikpXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5wb3NpdGlvbl9oZWxwZXIuaXNTY3JvbGxlZEludG9WaWV3KGFuaW1hdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFuaW1hdGlvbilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBvc2l0aW9uX2hlbHBlci5pc1Njcm9sbGVkSW50b1ZpZXcoYW5pbWF0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFuaW1hdGlvbilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGFuaW1hdGUoYW5pbWF0aW9uKXtcclxuICAgICAgICBsZXQgYW5pbWF0aW9uX3R5cGUgPSBhbmltYXRpb24uZGF0YXNldC5hbmltYXRpb25cclxuICAgICAgICBsZXQgYW5pbWF0aW9uX3NwZWVkID0gYW5pbWF0aW9uLmRhdGFzZXQuYW5pbWF0aW9uU3BlZWQgfHwgdGhpcy5zcGVlZFxyXG5cclxuICAgICAgICB0aGlzW2FuaW1hdGlvbl90eXBlXShhbmltYXRpb24sYW5pbWF0aW9uX3NwZWVkKVxyXG4gICAgICAgIHRoaXMucmVtb3ZlQW5pbWF0aW9uKGFuaW1hdGlvbilcclxuICAgIH1cclxuXHJcbiAgICB0eXBld3JpdGVyKGFuaW1hdGlvbixzcGVlZCxmdWxsX3N0cmluZyA9IFwiXCIsdGVtcF9zdHJpbmcgPSBcIlwiLGkgPSAwKXtcclxuICAgICAgICBmdWxsX3N0cmluZyA9IGZ1bGxfc3RyaW5nLmxlbmd0aCA9PSAwID8gYW5pbWF0aW9uLmlubmVySFRNTCA6IGZ1bGxfc3RyaW5nXHJcbiAgICAgICAgbGV0IGxpbWl0ID0gZnVsbF9zdHJpbmcubGVuZ3RoXHJcblxyXG4gICAgICAgIGFuaW1hdGlvbi5pbm5lckhUTUwgPSB0ZW1wX3N0cmluZ1xyXG4gICAgICAgIHRlbXBfc3RyaW5nICs9IGZ1bGxfc3RyaW5nLmNoYXJBdChpKVxyXG5cclxuICAgICAgICBsZXQgYmxpbmsgPSAxMDAwL3NwZWVkID4gMSA/IDEwMDAvc3BlZWQgOiAxXHJcbiAgICAgICAgaWYoaSVibGluayA+PSAwICYmIGklYmxpbmsgPCAoMTAwMC9zcGVlZCkvMiAmJiBpIDwgbGltaXQpIGFuaW1hdGlvbi5pbm5lckhUTUwgPSB0ZW1wX3N0cmluZyArIFwiIDxzcGFuIHN0eWxlPSdmb250LXdlaWdodDo5MDAnPl88L3NwYW4+XCJcclxuXHJcbiAgICAgICAgaWYoaSA8IGxpbWl0KXtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZXdyaXRlcihhbmltYXRpb24sc3BlZWQsZnVsbF9zdHJpbmcsdGVtcF9zdHJpbmcsaSlcclxuICAgICAgICAgICAgfSwgc3BlZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUFuaW1hdGlvbihhbmltYXRpb24pe1xyXG4gICAgICAgIGFuaW1hdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJylcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW5pbWF0aW9uXVwiKSlcclxuICAgIH1cclxufVxyXG5cclxuIiwiLypcclxuKlxyXG5TaWRlQmFyIENsYXNzIC0gYnkgc2NhdmVudHVtIGZyb20gUHVyZS5jc3NcclxuKlxyXG4qL1xyXG5cclxuY2xhc3MgU2lkZUJhciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF0dHJfaGVscGVyID0gbmV3IEF0dHJIZWxwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIGxheW91dCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xheW91dCcpLFxyXG4gICAgICAgICAgICBtZW51ICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51JyksXHJcbiAgICAgICAgICAgIG1lbnVMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVMaW5rJyksXHJcbiAgICAgICAgICAgIGNvbnRlbnQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKVxyXG5cclxuICAgICAgICBsZXQgdG9nZ2xlZEVsZW1lbnQgPSBbXHJcbiAgICAgICAgICAgIGxheW91dCxcclxuICAgICAgICAgICAgbWVudSxcclxuICAgICAgICAgICAgbWVudUxpbmtcclxuICAgICAgICBdLFxyXG4gICAgICAgIGFjdGl2ZSA9ICdhY3RpdmUnXHJcblxyXG4gICAgICAgIG1lbnVMaW5rLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGVCYXIoZSwgdG9nZ2xlZEVsZW1lbnQsIGFjdGl2ZSlcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY29udGVudC5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cl9oZWxwZXIuaGFzQ2xhc3MobWVudSxhY3RpdmUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGVCYXIoZSwgdG9nZ2xlZEVsZW1lbnQsIGFjdGl2ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2lkZUJhcihlLCBlbGVtZW50cywgYWN0aXZlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5hdHRyX2hlbHBlci50b2dnbGVDbGFzcyhlbGVtZW50LCBhY3RpdmUpIFxyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG59XHJcbiJdfQ==
