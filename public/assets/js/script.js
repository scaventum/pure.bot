"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var AttrHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toggleClass",value:function(e,t){for(var n=e.className.split(/\s+/),i=n.length,a=0;a<i;a++)if(n[a]===t){n.splice(a,1);break}i===n.length&&n.push(t),e.className=n.join(" ")}},{key:"hasClass",value:function(e,t){return-1!==e.className.indexOf(t)}}]),e}(),PositionHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}}]),e}(),Animations=function(){function e(){_classCallCheck(this,e),this.animations={},this.speed=100,this.position_helper=new PositionHelper}return _createClass(e,[{key:"init",value:function(){var e=this;this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]")),this.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)}),window.addEventListener("scroll",function(t){e.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)})})}},{key:"animate",value:function(e){var t=e.dataset.animation,n=(isNaN(e.dataset.animationSpeed)?this.speed:e.dataset.animationSpeed)||this.speed;"function"==typeof this[t]&&this[t](e,n),this.removeAnimation(e)}},{key:"typewriter",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(i=0==i.length?e.innerHTML:i).length;e.innerHTML=a,a+=i.charAt(o);var s=1e3/t>1?1e3/t:1;o%s>=0&&o%s<1e3/t/2&&o<r&&(e.innerHTML=a+" <span style='font-weight:900'>_</span>"),o<r&&(o++,setTimeout(function(){n.typewriter(e,t,i,a,o)},t))}},{key:"removeAnimation",value:function(e){e.removeAttribute("data-animation"),this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]"))}}]),e}(),SideBar=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementById("layout"),n=document.getElementById("menu"),i=document.getElementById("menuLink"),a=document.getElementById("main"),o=[t,n,i];i.onclick=function(t){e.toggleSideBar(t,o,"active")},a.onclick=function(t){e.attr_helper.hasClass(n,"active")&&e.toggleSideBar(t,o,"active")}}},{key:"toggleSideBar",value:function(e,t,n){var i=this;e.preventDefault(),t.forEach(function(e){i.attr_helper.toggleClass(e,n)})}}]),e}(),sideBar=new SideBar;sideBar.init();var animations=new Animations;animations.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImhlbHBlci9hdHRyX2hlbHBlci5qcyIsImhlbHBlci9wb3NpdGlvbl9oZWxwZXIuanMiLCJsYXlvdXQvYW5pbWF0aW9ucy5qcyIsImxheW91dC9zaWRlYmFyLmpzIl0sIm5hbWVzIjpbIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkF0dHJIZWxwZXIiLCJ0aGlzIiwidmFsdWUiLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NlcyIsInNwbGl0Iiwic3BsaWNlIiwicHVzaCIsImpvaW4iLCJpbmRleE9mIiwiUG9zaXRpb25IZWxwZXIiLCJlbCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbF90b3AiLCJ0b3AiLCJlbF9ib3QiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkFuaW1hdGlvbnMiLCJhbmltYXRpb25zIiwic3BlZWQiLCJwb3NpdGlvbl9oZWxwZXIiLCJfdGhpcyIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlzU2Nyb2xsZWRJbnRvVmlldyIsImFuaW1hdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImFuaW1hdGlvbl90eXBlIiwiZGF0YXNldCIsImFuaW1hdGlvbl9zcGVlZCIsImlzTmFOIiwiYW5pbWF0aW9uU3BlZWQiLCJyZW1vdmVBbmltYXRpb24iLCJfdGhpczIiLCJmdWxsX3N0cmluZyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRlbXBfc3RyaW5nIiwibGltaXQiLCJpbm5lckhUTUwiLCJjaGFyQXQiLCJibGluayIsInNldFRpbWVvdXQiLCJ0eXBld3JpdGVyIiwicmVtb3ZlQXR0cmlidXRlIiwiU2lkZUJhciIsImF0dHJfaGVscGVyIiwiX3RoaXMzIiwibGF5b3V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJtZW51IiwibWVudUxpbmsiLCJjb250ZW50IiwidG9nZ2xlZEVsZW1lbnQiLCJvbmNsaWNrIiwidG9nZ2xlU2lkZUJhciIsImhhc0NsYXNzIiwiZWxlbWVudHMiLCJhY3RpdmUiLCJfdGhpczQiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZUNsYXNzIiwic2lkZUJhciIsImluaXQiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsZ0JBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELGFBQW9CQyxHQUFnQixNQUFNLElBQUlDLFVBQVUscUNBRWhILFNBQVNDLGtCQUFrQkMsRUFBUUMsR0FBUyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLElBQUlFLEVBQWFILEVBQU1DLEdBQUlFLEVBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFBT0QsRUFBV0UsY0FBZSxFQUFVLFVBQVdGLElBQVlBLEVBQVdHLFVBQVcsR0FBTUMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFFN1MsU0FBU08sYUFBYWQsRUFBYWUsRUFBWUMsR0FBbUosT0FBaElELEdBQVliLGtCQUFrQkYsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhZCxrQkFBa0JGLEVBQWFnQixHQUFxQmhCLEVBRXpNLElDUkFrQixXRFVBLFdBQ0UsU0FBU0EsSUFDUHBCLGdCQUFnQnFCLEtBQU1ELEdBK0J4QixPQTVCQUosYUFBYUksRUFBWSxDQUFDLENBQ3hCTCxJQUFLLGNBQ0xPLE1BQU8sU0NoQlhDLEVBQUFDLEdBS0EsSUFKQSxJQUFBQyxFQUFBRixFQUFBQyxVQUFBRSxNQUFBLE9BQ0FsQixFQUFBaUIs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QSxXSTdKQSxTQUFBQSxJQUFBM0UsZ0JBQUFxQixLQUFBc0QsR0FDQXRELEtBQUF1RCxZQUFBLElBQUF4RCxXSnFNRSxPQWxDQUosYUFBYTJELEVBQVMsQ0FBQyxDQUNyQjVELElBQUssT0FDTE8sTUFBTyxXSWxLWCxJQUFBdUQsRUFBQXhELEtBQ0F5RCxFQUFBN0IsU0FBQThCLGVBQUEsVUFDQUMsRUFBQS9CLFNBQUE4QixlQUFBLFFBQ0FFLEVBQUFoQyxTQUFBOEIsZUFBQSxZQUNBRyxFQUFBakMsU0FBQThCLGVBQUEsUUFFQUksRUFBQSxDQUNBTCxFQUNBRSxFQUNBQyxHQUlBQSxFQUFBRyxRQUFBLFNBQUE1QixHQUNBcUIsRUFBQVEsY0FBQTdCLEVBQUEyQixFQUhBLFdBTUFELEVBQUFFLFFBQUEsU0FBQTVCLEdBQ0FxQixFQUFBRCxZQUFBVSxTQUFBTixFQVBBLFdBUUFILEVBQUFRLGNBQUE3QixFQUFBMkIsRUFSQSxhSjJLSyxDQUNEcEUsSUFBSyxnQkFDTE8sTUFBTyxTSWhLWGtDLEVBQUErQixFQUFBQyxHQUFBLElBQUFDLEVBQUFwRSxLQUNBbUMsRUFBQWtDLGlCQUNBSCxFQUFBcEMsUUFBQSxTQUFBNUIsR0FDQWtFLEVBQUFiLFlBQUFlLFlBQUFwRSxFQUFBaUUsU0p1S1NiLEVBekNULEdBaktBaUIsUUFBQSxJQUFBakIsUUFDQWlCLFFBQUFDLE9BR0EsSUFBQW5ELFdBQUEsSUFBQUQsV0FDQUMsV0FBQW1EIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vSW5jbHVkZSBKUyBmaWxlcyBmcm9tIGluY2x1ZGUgZm9sZGVyIGhlcmUgYW5kIHNvcnQgdGhlbSBhY2NvcmRpbmcgdG8gaXRzIGRlcGVuZGVuY2llc1xyXG5cclxuLy9DYWxsIHNpZGViYXIuanNcclxubGV0IHNpZGVCYXIgPSBuZXcgU2lkZUJhcigpXHJcbnNpZGVCYXIuaW5pdCgpXHJcblxyXG4vL0NhbGwgYW5pbWF0aW9ucy5qc1xyXG5sZXQgYW5pbWF0aW9ucyA9IG5ldyBBbmltYXRpb25zKClcclxuYW5pbWF0aW9ucy5pbml0KCkiLCJjbGFzcyBBdHRySGVscGVyIHtcclxuICAgIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGxldCBjbGFzc2VzID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoL1xccysvKSxcclxuICAgICAgICAgICAgbGVuZ3RoID0gY2xhc3Nlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGkgPSAwXHJcblxyXG4gICAgICAgIGZvcig7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGNsYXNzZXNbaV0gPT09IGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjbGFzc2VzLnNwbGljZShpLCAxKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGhlIGNsYXNzTmFtZSBpcyBub3QgZm91bmRcclxuICAgICAgICBpZiAobGVuZ3RoID09PSBjbGFzc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NOYW1lKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxyXG4gICAgfVxyXG5cclxuICAgIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc05hbWUpICE9PSAtMVxyXG4gICAgfVxyXG59IiwiY2xhc3MgUG9zaXRpb25IZWxwZXIge1xyXG4gICAgaXNTY3JvbGxlZEludG9WaWV3KGVsKSB7XHJcbiAgICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGxldCBlbF90b3AgPSByZWN0LnRvcDtcclxuICAgICAgbGV0IGVsX2JvdCA9IHJlY3QuYm90dG9tO1xyXG5cclxuICAgICAgLy9sZXQgaXNWaXNpYmxlID0gKGVsX3RvcCA+PSAwKSAmJiAoZWxfYm90IDw9IHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgXHJcbiAgICAgIGxldCBpc1Zpc2libGUgPSBlbF90b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgZWxfYm90ID49IDA7XHJcbiAgICAgIHJldHVybiBpc1Zpc2libGU7XHJcbiAgfVxyXG59IiwiLypcclxuKlxyXG5BbmltYXRpb25zIENsYXNzIC0gYnkgc2NhdmVudHVtXHJcbipcclxuVXNhZ2U6XHJcbjEuIEFkZCA8ZGF0YS1hbmltYXRpb249XCJbb3B0aW9uc11cIj4gYXMgcmVxdWlyZWQgZWxlbWVudCBhdHRyaWJ1dGUuXHJcbiAgIFtvcHRpb25zXSBhdmFpbGFibGU6XHJcbiAgIC0gdHlwZXdyaXRlclxyXG4yLiBBZGQgPGRhdGEtYW5pbWF0aW9uLXNwZWVkPVwiW3ZhbHVlXVwiPiBhcyBvcHRpb25hbCBlbGVtZW50IGF0dHJpYnV0ZS5cclxuICAgW3ZhbHVlXTogcG9zaXRpdmUgaW50ZWdlciBpbiBtaWxsaXNlY29uZHMgXHJcbipcclxuKi9cclxuXHJcbmNsYXNzIEFuaW1hdGlvbnMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge31cclxuICAgICAgICB0aGlzLnNwZWVkID0gMTAwXHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbl9oZWxwZXIgPSBuZXcgUG9zaXRpb25IZWxwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKXtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW5pbWF0aW9uXVwiKSlcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBpZih0aGlzLnBvc2l0aW9uX2hlbHBlci5pc1Njcm9sbGVkSW50b1ZpZXcoYW5pbWF0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMucG9zaXRpb25faGVscGVyLmlzU2Nyb2xsZWRJbnRvVmlldyhhbmltYXRpb24pKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYW5pbWF0ZShhbmltYXRpb24pe1xyXG4gICAgICAgIGxldCBhbmltYXRpb25fdHlwZSA9IGFuaW1hdGlvbi5kYXRhc2V0LmFuaW1hdGlvblxyXG4gICAgICAgIGxldCBhbmltYXRpb25fc3BlZWQgPSAoaXNOYU4oYW5pbWF0aW9uLmRhdGFzZXQuYW5pbWF0aW9uU3BlZWQpID8gdGhpcy5zcGVlZCA6IGFuaW1hdGlvbi5kYXRhc2V0LmFuaW1hdGlvblNwZWVkICkgfHwgdGhpcy5zcGVlZFxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXNbYW5pbWF0aW9uX3R5cGVdID09PSBcImZ1bmN0aW9uXCIpIHsgXHJcbiAgICAgICAgICAgIHRoaXNbYW5pbWF0aW9uX3R5cGVdKGFuaW1hdGlvbixhbmltYXRpb25fc3BlZWQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucmVtb3ZlQW5pbWF0aW9uKGFuaW1hdGlvbilcclxuICAgIH1cclxuXHJcbiAgICB0eXBld3JpdGVyKGFuaW1hdGlvbixzcGVlZCxmdWxsX3N0cmluZyA9IFwiXCIsdGVtcF9zdHJpbmcgPSBcIlwiLGkgPSAwKXtcclxuICAgICAgICBmdWxsX3N0cmluZyA9IGZ1bGxfc3RyaW5nLmxlbmd0aCA9PSAwID8gYW5pbWF0aW9uLmlubmVySFRNTCA6IGZ1bGxfc3RyaW5nXHJcbiAgICAgICAgbGV0IGxpbWl0ID0gZnVsbF9zdHJpbmcubGVuZ3RoXHJcblxyXG4gICAgICAgIGFuaW1hdGlvbi5pbm5lckhUTUwgPSB0ZW1wX3N0cmluZ1xyXG4gICAgICAgIHRlbXBfc3RyaW5nICs9IGZ1bGxfc3RyaW5nLmNoYXJBdChpKVxyXG5cclxuICAgICAgICBsZXQgYmxpbmsgPSAxMDAwL3NwZWVkID4gMSA/IDEwMDAvc3BlZWQgOiAxXHJcbiAgICAgICAgaWYoaSVibGluayA+PSAwICYmIGklYmxpbmsgPCAoMTAwMC9zcGVlZCkvMiAmJiBpIDwgbGltaXQpIGFuaW1hdGlvbi5pbm5lckhUTUwgPSB0ZW1wX3N0cmluZyArIFwiIDxzcGFuIHN0eWxlPSdmb250LXdlaWdodDo5MDAnPl88L3NwYW4+XCJcclxuXHJcbiAgICAgICAgaWYoaSA8IGxpbWl0KXtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZXdyaXRlcihhbmltYXRpb24sc3BlZWQsZnVsbF9zdHJpbmcsdGVtcF9zdHJpbmcsaSlcclxuICAgICAgICAgICAgfSwgc3BlZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUFuaW1hdGlvbihhbmltYXRpb24pe1xyXG4gICAgICAgIGFuaW1hdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJylcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW5pbWF0aW9uXVwiKSlcclxuICAgIH1cclxufVxyXG5cclxuIiwiLypcclxuKlxyXG5TaWRlQmFyIENsYXNzIC0gYnkgc2NhdmVudHVtIGZyb20gUHVyZS5jc3NcclxuKlxyXG4qL1xyXG5cclxuY2xhc3MgU2lkZUJhciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF0dHJfaGVscGVyID0gbmV3IEF0dHJIZWxwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdmFyIGxheW91dCAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xheW91dCcpLFxyXG4gICAgICAgICAgICBtZW51ICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51JyksXHJcbiAgICAgICAgICAgIG1lbnVMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVMaW5rJyksXHJcbiAgICAgICAgICAgIGNvbnRlbnQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKVxyXG5cclxuICAgICAgICBsZXQgdG9nZ2xlZEVsZW1lbnQgPSBbXHJcbiAgICAgICAgICAgIGxheW91dCxcclxuICAgICAgICAgICAgbWVudSxcclxuICAgICAgICAgICAgbWVudUxpbmtcclxuICAgICAgICBdLFxyXG4gICAgICAgIGFjdGl2ZSA9ICdhY3RpdmUnXHJcblxyXG4gICAgICAgIG1lbnVMaW5rLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGVCYXIoZSwgdG9nZ2xlZEVsZW1lbnQsIGFjdGl2ZSlcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgY29udGVudC5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cl9oZWxwZXIuaGFzQ2xhc3MobWVudSxhY3RpdmUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNpZGVCYXIoZSwgdG9nZ2xlZEVsZW1lbnQsIGFjdGl2ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2lkZUJhcihlLCBlbGVtZW50cywgYWN0aXZlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5hdHRyX2hlbHBlci50b2dnbGVDbGFzcyhlbGVtZW50LCBhY3RpdmUpIFxyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG59XHJcbiJdfQ==
