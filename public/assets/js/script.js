"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var AttrHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toggleClass",value:function(e,t){for(var n=e.className.split(/\s+/),i=n.length,a=0;a<i;a++)if(n[a]===t){n.splice(a,1);break}i===n.length&&n.push(t),e.className=n.join(" ")}},{key:"hasClass",value:function(e,t){return-1!==e.className.indexOf(t)}}]),e}(),PositionHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}}]),e}(),Animations=function(){function e(){_classCallCheck(this,e),this.animations={},this.speed=100,this.position_helper=new PositionHelper}return _createClass(e,[{key:"init",value:function(){var e=this;this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]")),this.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)}),window.addEventListener("scroll",function(t){e.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)})})}},{key:"animate",value:function(e){var t=e.dataset.animation,n=e.dataset.animationSpeed||this.speed;n=isNaN(n)?this.speed:n,"function"==typeof this[t]&&this[t](e,n),this.removeAnimation(e)}},{key:"typewriter",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(i=0==i.length?e.innerHTML:i).length;e.innerHTML=a,a+=i.charAt(o);var s=1e3/t>1?1e3/t:1;o%s>=0&&o%s<1e3/t/2&&o<r&&(e.innerHTML=a+" <span style='font-weight:900'>_</span>"),o<r&&(o++,setTimeout(function(){n.typewriter(e,t,i,a,o)},t))}},{key:"removeAnimation",value:function(e){e.removeAttribute("data-animation"),this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]"))}}]),e}(),SideBar=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementById("layout"),n=document.getElementById("menu"),i=document.getElementById("menuLink"),a=document.getElementById("main"),o=[t,n,i];i.onclick=function(t){e.toggleSideBar(t,o,"active")},a.onclick=function(t){e.attr_helper.hasClass(n,"active")&&e.toggleSideBar(t,o,"active")}}},{key:"toggleSideBar",value:function(e,t,n){var i=this;e.preventDefault(),t.forEach(function(e){i.attr_helper.toggleClass(e,n)})}}]),e}(),sideBar=new SideBar;sideBar.init();var animations=new Animations;animations.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImhlbHBlci9hdHRyX2hlbHBlci5qcyIsImhlbHBlci9wb3NpdGlvbl9oZWxwZXIuanMiLCJsYXlvdXQvYW5pbWF0aW9ucy5qcyIsImxheW91dC9zaWRlYmFyLmpzIl0sIm5hbWVzIjpbIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkF0dHJIZWxwZXIiLCJ0aGlzIiwidmFsdWUiLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NlcyIsInNwbGl0Iiwic3BsaWNlIiwicHVzaCIsImpvaW4iLCJpbmRleE9mIiwiUG9zaXRpb25IZWxwZXIiLCJlbCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbF90b3AiLCJ0b3AiLCJlbF9ib3QiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkFuaW1hdGlvbnMiLCJhbmltYXRpb25zIiwic3BlZWQiLCJwb3NpdGlvbl9oZWxwZXIiLCJfdGhpcyIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlzU2Nyb2xsZWRJbnRvVmlldyIsImFuaW1hdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImFuaW1hdGlvbl90eXBlIiwiZGF0YXNldCIsImFuaW1hdGlvbl9zcGVlZCIsImFuaW1hdGlvblNwZWVkIiwiaXNOYU4iLCJyZW1vdmVBbmltYXRpb24iLCJfdGhpczIiLCJmdWxsX3N0cmluZyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRlbXBfc3RyaW5nIiwibGltaXQiLCJpbm5lckhUTUwiLCJjaGFyQXQiLCJibGluayIsInNldFRpbWVvdXQiLCJ0eXBld3JpdGVyIiwicmVtb3ZlQXR0cmlidXRlIiwiU2lkZUJhciIsImF0dHJfaGVscGVyIiwiX3RoaXMzIiwibGF5b3V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJtZW51IiwibWVudUxpbmsiLCJjb250ZW50IiwidG9nZ2xlZEVsZW1lbnQiLCJvbmNsaWNrIiwidG9nZ2xlU2lkZUJhciIsImhhc0NsYXNzIiwiZWxlbWVudHMiLCJhY3RpdmUiLCJfdGhpczQiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZUNsYXNzIiwic2lkZUJhciIsImluaXQiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsZ0JBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELGFBQW9CQyxHQUFnQixNQUFNLElBQUlDLFVBQVUscUNBRWhILFNBQVNDLGtCQUFrQkMsRUFBUUMsR0FBUyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLElBQUlFLEVBQWFILEVBQU1DLEdBQUlFLEVBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFBT0QsRUFBV0UsY0FBZSxFQUFVLFVBQVdGLElBQVlBLEVBQVdHLFVBQVcsR0FBTUMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFFN1MsU0FBU08sYUFBYWQsRUFBYWUsRUFBWUMsR0FBbUosT0FBaElELEdBQVliLGtCQUFrQkYsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhZCxrQkFBa0JGLEVBQWFnQixHQUFxQmhCLEVBRXpNLElDUkFrQixXRFVBLFdBQ0UsU0FBU0EsSUFDUHBCLGdCQUFnQnFCLEtBQU1ELEdBK0J4QixPQTVCQUosYUFBYUksRUFBWSxDQUFDLENBQ3hCTCxJQUFLLGNBQ0xPLE1BQU8sU0NoQlhDLEVBQUFDLEdBS0EsSUFKQSxJQUFBQyxFQUFBRixFQUFBQyxVQUFBRSxNQUFBLE9BQ0FsQixFQUFBaUIs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SkEsV0k5SkEsU0FBQUEsSUFBQTNFLGdCQUFBcUIsS0FBQXNELEdBQ0F0RCxLQUFBdUQsWUFBQSxJQUFBeEQsV0pzTUUsT0FsQ0FKLGFBQWEyRCxFQUFTLENBQUMsQ0FDckI1RCxJQUFLLE9BQ0xPLE1BQU8sV0luS1gsSUFBQXVELEVBQUF4RCxLQUNBeUQsRUFBQTdCLFNBQUE4QixlQUFBLFVBQ0FDLEVBQUEvQixTQUFBOEIsZUFBQSxRQUNBRSxFQUFBaEMsU0FBQThCLGVBQUEsWUFDQUcsRUFBQWpDLFNBQUE4QixlQUFBLFFBRUFJLEVBQUEsQ0FDQUwsRUFDQUUsRUFDQUMsR0FJQUEsRUFBQUcsUUFBQSxTQUFBNUIsR0FDQXFCLEVBQUFRLGNBQUE3QixFQUFBMkIsRUFIQSxXQU1BRCxFQUFBRSxRQUFBLFNBQUE1QixHQUNBcUIsRUFBQUQsWUFBQVUsU0FBQU4sRUFQQSxXQVFBSCxFQUFBUSxjQUFBN0IsRUFBQTJCLEVBUkEsYUo0S0ssQ0FDRHBFLElBQUssZ0JBQ0xPLE1BQU8sU0lqS1hrQyxFQUFBK0IsRUFBQUMsR0FBQSxJQUFBQyxFQUFBcEUsS0FDQW1DLEVBQUFrQyxpQkFDQUgsRUFBQXBDLFFBQUEsU0FBQTVCLEdBQ0FrRSxFQUFBYixZQUFBZSxZQUFBcEUsRUFBQWlFLFNKd0tTYixFQXpDVCxHQWxLQWlCLFFBQUEsSUFBQWpCLFFBQ0FpQixRQUFBQyxPQUdBLElBQUFuRCxXQUFBLElBQUFELFdBQ0FDLFdBQUFtRCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL0luY2x1ZGUgSlMgZmlsZXMgZnJvbSBpbmNsdWRlIGZvbGRlciBoZXJlIGFuZCBzb3J0IHRoZW0gYWNjb3JkaW5nIHRvIGl0cyBkZXBlbmRlbmNpZXNcclxuXHJcbi8vQ2FsbCBzaWRlYmFyLmpzXHJcbmxldCBzaWRlQmFyID0gbmV3IFNpZGVCYXIoKVxyXG5zaWRlQmFyLmluaXQoKVxyXG5cclxuLy9DYWxsIGFuaW1hdGlvbnMuanNcclxubGV0IGFuaW1hdGlvbnMgPSBuZXcgQW5pbWF0aW9ucygpXHJcbmFuaW1hdGlvbnMuaW5pdCgpIiwiY2xhc3MgQXR0ckhlbHBlciB7XHJcbiAgICB0b2dnbGVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBsZXQgY2xhc3NlcyA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLyksXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGNsYXNzZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpID0gMFxyXG5cclxuICAgICAgICBmb3IoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChjbGFzc2VzW2ldID09PSBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgY2xhc3Nlcy5zcGxpY2UoaSwgMSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoZSBjbGFzc05hbWUgaXMgbm90IGZvdW5kXHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gY2xhc3Nlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJylcclxuICAgIH1cclxuXHJcbiAgICBoYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3NOYW1lKSAhPT0gLTFcclxuICAgIH1cclxufSIsImNsYXNzIFBvc2l0aW9uSGVscGVyIHtcclxuICAgIGlzU2Nyb2xsZWRJbnRvVmlldyhlbCkge1xyXG4gICAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgZWxfdG9wID0gcmVjdC50b3A7XHJcbiAgICAgIGxldCBlbF9ib3QgPSByZWN0LmJvdHRvbTtcclxuXHJcbiAgICAgIC8vbGV0IGlzVmlzaWJsZSA9IChlbF90b3AgPj0gMCkgJiYgKGVsX2JvdCA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpXHJcbiAgICAgIFxyXG4gICAgICBsZXQgaXNWaXNpYmxlID0gZWxfdG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICYmIGVsX2JvdCA+PSAwO1xyXG4gICAgICByZXR1cm4gaXNWaXNpYmxlO1xyXG4gIH1cclxufSIsIi8qXHJcbipcclxuQW5pbWF0aW9ucyBDbGFzcyAtIGJ5IHNjYXZlbnR1bVxyXG4qXHJcblVzYWdlOlxyXG4xLiBBZGQgPGRhdGEtYW5pbWF0aW9uPVwiW29wdGlvbnNdXCI+IGFzIHJlcXVpcmVkIGVsZW1lbnQgYXR0cmlidXRlLlxyXG4gICBbb3B0aW9uc10gYXZhaWxhYmxlOlxyXG4gICAtIHR5cGV3cml0ZXJcclxuMi4gQWRkIDxkYXRhLWFuaW1hdGlvbi1zcGVlZD1cIlt2YWx1ZV1cIj4gYXMgb3B0aW9uYWwgZWxlbWVudCBhdHRyaWJ1dGUuXHJcbiAgIFt2YWx1ZV06IHBvc2l0aXZlIGludGVnZXIgaW4gbWlsbGlzZWNvbmRzIFxyXG4qXHJcbiovXHJcblxyXG5jbGFzcyBBbmltYXRpb25zIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDEwMFxyXG4gICAgICAgIHRoaXMucG9zaXRpb25faGVscGVyID0gbmV3IFBvc2l0aW9uSGVscGVyKClcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWFuaW1hdGlvbl1cIikpXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5wb3NpdGlvbl9oZWxwZXIuaXNTY3JvbGxlZEludG9WaWV3KGFuaW1hdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFuaW1hdGlvbilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnBvc2l0aW9uX2hlbHBlci5pc1Njcm9sbGVkSW50b1ZpZXcoYW5pbWF0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKGFuaW1hdGlvbilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGFuaW1hdGUoYW5pbWF0aW9uKXtcclxuICAgICAgICBsZXQgYW5pbWF0aW9uX3R5cGUgPSBhbmltYXRpb24uZGF0YXNldC5hbmltYXRpb25cclxuICAgICAgICBsZXQgYW5pbWF0aW9uX3NwZWVkID0gYW5pbWF0aW9uLmRhdGFzZXQuYW5pbWF0aW9uU3BlZWQgfHwgdGhpcy5zcGVlZFxyXG4gICAgICAgIGFuaW1hdGlvbl9zcGVlZCA9IGlzTmFOKGFuaW1hdGlvbl9zcGVlZCkgPyB0aGlzLnNwZWVkIDogYW5pbWF0aW9uX3NwZWVkXHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpc1thbmltYXRpb25fdHlwZV0gPT09IFwiZnVuY3Rpb25cIikgeyBcclxuICAgICAgICAgICAgdGhpc1thbmltYXRpb25fdHlwZV0oYW5pbWF0aW9uLGFuaW1hdGlvbl9zcGVlZClcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRpb24oYW5pbWF0aW9uKVxyXG4gICAgfVxyXG5cclxuICAgIHR5cGV3cml0ZXIoYW5pbWF0aW9uLHNwZWVkLGZ1bGxfc3RyaW5nID0gXCJcIix0ZW1wX3N0cmluZyA9IFwiXCIsaSA9IDApe1xyXG4gICAgICAgIGZ1bGxfc3RyaW5nID0gZnVsbF9zdHJpbmcubGVuZ3RoID09IDAgPyBhbmltYXRpb24uaW5uZXJIVE1MIDogZnVsbF9zdHJpbmdcclxuICAgICAgICBsZXQgbGltaXQgPSBmdWxsX3N0cmluZy5sZW5ndGhcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLmlubmVySFRNTCA9IHRlbXBfc3RyaW5nXHJcbiAgICAgICAgdGVtcF9zdHJpbmcgKz0gZnVsbF9zdHJpbmcuY2hhckF0KGkpXHJcblxyXG4gICAgICAgIGxldCBibGluayA9IDEwMDAvc3BlZWQgPiAxID8gMTAwMC9zcGVlZCA6IDFcclxuICAgICAgICBpZihpJWJsaW5rID49IDAgJiYgaSVibGluayA8ICgxMDAwL3NwZWVkKS8yICYmIGkgPCBsaW1pdCkgYW5pbWF0aW9uLmlubmVySFRNTCA9IHRlbXBfc3RyaW5nICsgXCIgPHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OjkwMCc+Xzwvc3Bhbj5cIlxyXG5cclxuICAgICAgICBpZihpIDwgbGltaXQpe1xyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBld3JpdGVyKGFuaW1hdGlvbixzcGVlZCxmdWxsX3N0cmluZyx0ZW1wX3N0cmluZyxpKVxyXG4gICAgICAgICAgICB9LCBzcGVlZClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQW5pbWF0aW9uKGFuaW1hdGlvbil7XHJcbiAgICAgICAgYW5pbWF0aW9uLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hbmltYXRpb24nKVxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1hbmltYXRpb25dXCIpKVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCIvKlxyXG4qXHJcblNpZGVCYXIgQ2xhc3MgLSBieSBzY2F2ZW50dW0gZnJvbSBQdXJlLmNzc1xyXG4qXHJcbiovXHJcblxyXG5jbGFzcyBTaWRlQmFyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXR0cl9oZWxwZXIgPSBuZXcgQXR0ckhlbHBlcigpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB2YXIgbGF5b3V0ICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF5b3V0JyksXHJcbiAgICAgICAgICAgIG1lbnUgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKSxcclxuICAgICAgICAgICAgbWVudUxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudUxpbmsnKSxcclxuICAgICAgICAgICAgY29udGVudCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpXHJcblxyXG4gICAgICAgIGxldCB0b2dnbGVkRWxlbWVudCA9IFtcclxuICAgICAgICAgICAgbGF5b3V0LFxyXG4gICAgICAgICAgICBtZW51LFxyXG4gICAgICAgICAgICBtZW51TGlua1xyXG4gICAgICAgIF0sXHJcbiAgICAgICAgYWN0aXZlID0gJ2FjdGl2ZSdcclxuXHJcbiAgICAgICAgbWVudUxpbmsub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlU2lkZUJhcihlLCB0b2dnbGVkRWxlbWVudCwgYWN0aXZlKVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBjb250ZW50Lm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRyX2hlbHBlci5oYXNDbGFzcyhtZW51LGFjdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlU2lkZUJhcihlLCB0b2dnbGVkRWxlbWVudCwgYWN0aXZlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTaWRlQmFyKGUsIGVsZW1lbnRzLCBhY3RpdmUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7IFxyXG4gICAgICAgICAgICB0aGlzLmF0dHJfaGVscGVyLnRvZ2dsZUNsYXNzKGVsZW1lbnQsIGFjdGl2ZSkgXHJcbiAgICAgICAgfSkgXHJcbiAgICB9XHJcbn1cclxuIl19
