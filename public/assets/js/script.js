"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var AttrHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toggleClass",value:function(e,t){for(var n=e.className.split(/\s+/),i=n.length,a=0;a<i;a++)if(n[a]===t){n.splice(a,1);break}i===n.length&&n.push(t),e.className=n.join(" ")}},{key:"hasClass",value:function(e,t){return-1!==e.className.indexOf(t)}}]),e}(),PositionHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}}]),e}(),Animations=function(){function e(){_classCallCheck(this,e),this.animations={},this.speed=100,this.position_helper=new PositionHelper}return _createClass(e,[{key:"init",value:function(){var e=this;this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]")),this.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)}),window.addEventListener("scroll",function(t){e.animations.forEach(function(t){e.position_helper.isScrolledIntoView(t)&&e.animate(t)})})}},{key:"animate",value:function(e){var t=e.dataset.animation||e.getAttribute("animation"),n=e.dataset.animationSpeed||this.speed;n=isNaN(n)?this.speed:n,"function"==typeof this[t]&&this[t](e,n),this.removeAnimation(e)}},{key:"typewriter",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(i=0==i.length?e.innerHTML:i).length;e.innerHTML=a,a+=i.charAt(o),e.innerHTML=a+"<span class='typwriter__blink'>_</span>",o<r&&(o++,setTimeout(function(){n.typewriter(e,t,i,a,o)},t))}},{key:"removeAnimation",value:function(e){e.removeAttribute("data-animation"),this.animations=Array.prototype.slice.call(document.querySelectorAll("[data-animation]"))}}]),e}(),SideBar=function(){function e(){_classCallCheck(this,e),this.attr_helper=new AttrHelper}return _createClass(e,[{key:"init",value:function(){var e=this,t=document.getElementById("layout"),n=document.getElementById("menu"),i=document.getElementById("menuLink"),a=document.getElementById("main"),o=[t,n,i];i.onclick=function(t){e.toggleSideBar(t,o,"active")},a.onclick=function(t){e.attr_helper.hasClass(n,"active")&&e.toggleSideBar(t,o,"active")}}},{key:"toggleSideBar",value:function(e,t,n){var i=this;e.preventDefault(),t.forEach(function(e){i.attr_helper.toggleClass(e,n)})}}]),e}(),sideBar=new SideBar;sideBar.init();var animations=new Animations;animations.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsImhlbHBlci9hdHRyX2hlbHBlci5qcyIsImhlbHBlci9wb3NpdGlvbl9oZWxwZXIuanMiLCJsYXlvdXQvYW5pbWF0aW9ucy5qcyIsImxheW91dC9zaWRlYmFyLmpzIl0sIm5hbWVzIjpbIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkF0dHJIZWxwZXIiLCJ0aGlzIiwidmFsdWUiLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NlcyIsInNwbGl0Iiwic3BsaWNlIiwicHVzaCIsImpvaW4iLCJpbmRleE9mIiwiUG9zaXRpb25IZWxwZXIiLCJlbCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbF90b3AiLCJ0b3AiLCJlbF9ib3QiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsIkFuaW1hdGlvbnMiLCJhbmltYXRpb25zIiwic3BlZWQiLCJwb3NpdGlvbl9oZWxwZXIiLCJfdGhpcyIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlzU2Nyb2xsZWRJbnRvVmlldyIsImFuaW1hdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImFuaW1hdGlvbl90eXBlIiwiZGF0YXNldCIsImdldEF0dHJpYnV0ZSIsImFuaW1hdGlvbl9zcGVlZCIsImFuaW1hdGlvblNwZWVkIiwiaXNOYU4iLCJyZW1vdmVBbmltYXRpb24iLCJfdGhpczIiLCJmdWxsX3N0cmluZyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRlbXBfc3RyaW5nIiwibGltaXQiLCJpbm5lckhUTUwiLCJjaGFyQXQiLCJzZXRUaW1lb3V0IiwidHlwZXdyaXRlciIsInJlbW92ZUF0dHJpYnV0ZSIsIlNpZGVCYXIiLCJhdHRyX2hlbHBlciIsIl90aGlzMyIsImxheW91dCIsImdldEVsZW1lbnRCeUlkIiwibWVudSIsIm1lbnVMaW5rIiwiY29udGVudCIsInRvZ2dsZWRFbGVtZW50Iiwib25jbGljayIsInRvZ2dsZVNpZGVCYXIiLCJoYXNDbGFzcyIsImVsZW1lbnRzIiwiYWN0aXZlIiwiX3RoaXM0IiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVDbGFzcyIsInNpZGVCYXIiLCJpbml0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQVNBLGdCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxhQUFvQkMsR0FBZ0IsTUFBTSxJQUFJQyxVQUFVLHFDQUVoSCxTQUFTQyxrQkFBa0JDLEVBQVFDLEdBQVMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxJQUFJRSxFQUFhSCxFQUFNQyxHQUFJRSxFQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBRTdTLFNBQVNPLGFBQWFkLEVBQWFlLEVBQVlDLEdBQW1KLE9BQWhJRCxHQUFZYixrQkFBa0JGLEVBQVlpQixVQUFXRixHQUFpQkMsR0FBYWQsa0JBQWtCRixFQUFhZ0IsR0FBcUJoQixFQUV6TSxJQ1JBa0IsV0RVQSxXQUNFLFNBQVNBLElBQ1BwQixnQkFBZ0JxQixLQUFNRCxHQStCeEIsT0E1QkFKLGFBQWFJLEVBQVksQ0FBQyxDQUN4QkwsSUFBSyxjQUNMTyxNQUFPLFNDaEJYQyxFQUFBQyxHQUtBLElBSkEsSUFBQUMsRUFBQUYsRUFBQUMsVUFBQUUsTUFBQSxPQUNBbEIsRUFBQWlCLEVBQUFqQixPQUNBRCxFQUFBLEVBRUFBLEVBQUFDLEVBQUFELElBQ0EsR0FBQWtCLEVBQUFsQixLQUFBaUIsRUFBQSxDQUNBQyxFQUFBRSxPQUFBcEIsRUFBQSxHQUNBLE1BSUFDLElBQUFpQixFQUFBakIsUUFDQWlCLEVBQUFHLEtBQUFKLEdBR0FELEVBQUFDLFVBQUFDLEVBQUFJLEtBQUEsT0RtQkssQ0FDRGQsSUFBSyxXQUNMTyxNQUFPLFNDbEJYQyxFQUFBQyxHQUNBLE9BQUEsSUFBQUQsRUFBQUMsVUFBQU0sUUFBQU4sT0RzQlNKLEVBakNULEdFVkFXLGVGZ0RBLFdBQ0UsU0FBU0EsSUFDUC9CLGdCQUFnQnFCLEtBQU1VLEdBZXhCLE9BWkFmLGFBQWFlLEVBQWdCLENBQUMsQ0FDNUJoQixJQUFLLHFCQUNMTyxNQUFPLFNFdERYVSxHQUNBLElBQUFDLEVBQUFELEVBQUFFLHdCQUNBQyxFQUFBRixFQUFBRyxJQUNBQyxFQUFBSixFQUFBSyxPQUtBLE9BREFILEVBQUFJLE9BQUFDLGFBQUFILEdBQUEsTUZ5RFNOLEVBakJULEdHbkNBVSxXSHNFQSxXR3JFQSxTQUFBQSxJQUFBekMsZ0JBQUFxQixLQUFBb0IsR0FDQXBCLEtBQUFxQixXQUFBLEdBQ0FyQixLQUFBc0IsTUFBQSxJQUNBdEIsS0FBQXVCLGdCQUFBLElBQUFiLGVId0lFLE9BN0RBZixhQUFheUIsRUFBWSxDQUFDLENBQ3hCMUIsSUFBSyxPQUNMTyxNQUFPLFdHMUVYLElBQUF1QixFQUFBeEIsS0FDQUEsS0FBQXFCLFdBQUFJLE1BQUEzQixVQUFBNEIsTUFBQUMsS0FBQUMsU0FBQUMsaUJBQUEscUJBRUE3QixLQUFBcUIsV0FBQVMsUUFBQSxTQUFBQyxHQUNBUCxFQUFBRCxnQkFBQVMsbUJBQUFELElBQ0FQLEVBQUFTLFFBQUFGLEtBSUFiLE9BQUFnQixpQkFBQSxTQUFBLFNBQUFDLEdBQ0FYLEVBQUFILFdBQUFTLFFBQUEsU0FBQUMsR0FDQVAsRUFBQUQsZ0JBQUFTLG1CQUFBRCxJQUNBUCxFQUFBUyxRQUFBRixTSCtFSyxDQUNEckMsSUFBSyxVQUNMTyxNQUFPLFNHM0VYOEIsR0FDQSxJQUFBSyxFQUFBTCxFQUFBTSxRQUFBTixXQUFBQSxFQUFBTyxhQUFBLGFBQ0FDLEVBQUFSLEVBQUFNLFFBQUFHLGdCQUFBeEMsS0FBQXNCLE1BQ0FpQixFQUFBRSxNQUFBRixHQUFBdkMsS0FBQXNCLE1BQUFpQixFQUVBLG1CQUFBdkMsS0FBQW9DLElBQ0FwQyxLQUFBb0MsR0FBQUwsRUFBQVEsR0FHQXZDLEtBQUEwQyxnQkFBQVgsS0g2RUssQ0FDRHJDLElBQUssYUFDTE8sTUFBTyxTRzVFWDhCLEVBQUFULEdBQUEsSUFBQXFCLEVBQUEzQyxLQUFBNEMsRUFBQUMsVUFBQTFELE9BQUEsUUFBQTJELElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFBLEdBQUFFLEVBQUFGLFVBQUExRCxPQUFBLFFBQUEyRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQUFBM0QsRUFBQTJELFVBQUExRCxPQUFBLFFBQUEyRCxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBQSxFQUVBRyxHQURBSixFQUFBLEdBQUFBLEVBQUF6RCxPQUFBNEMsRUFBQWtCLFVBQUFMLEdBQ0F6RCxPQUVBNEMsRUFBQWtCLFVBQUFGLEVBQ0FBLEdBQUFILEVBQUFNLE9BQUFoRSxHQUVBNkMsRUFBQWtCLFVBQUFGLEVBQUEsMENBRUE3RCxFQUFBOEQsSUFDQTlELElBQ0FpRSxXQUFBLFdBQ0FSLEVBQUFTLFdBQUFyQixFQUFBVCxFQUFBc0IsRUFBQUcsRUFBQTdELElBQ0FvQyxNSGtGSyxDQUNENUIsSUFBSyxrQkFDTE8sTUFBTyxTR2hGWDhCLEdBQ0FBLEVBQUFzQixnQkFBQSxrQkFDQXJELEtBQUFxQixXQUFBSSxNQUFBM0IsVUFBQTRCLE1BQUFDLEtBQUFDLFNBQUFDLGlCQUFBLHlCSG9GU1QsRUF0RVQsR0k3RUFrQyxRSjhKQSxXSTdKQSxTQUFBQSxJQUFBM0UsZ0JBQUFxQixLQUFBc0QsR0FDQXRELEtBQUF1RCxZQUFBLElBQUF4RCxXSnFNRSxPQWxDQUosYUFBYTJELEVBQVMsQ0FBQyxDQUNyQjVELElBQUssT0FDTE8sTUFBTyxXSWxLWCxJQUFBdUQsRUFBQXhELEtBQ0F5RCxFQUFBN0IsU0FBQThCLGVBQUEsVUFDQUMsRUFBQS9CLFNBQUE4QixlQUFBLFFBQ0FFLEVBQUFoQyxTQUFBOEIsZUFBQSxZQUNBRyxFQUFBakMsU0FBQThCLGVBQUEsUUFFQUksRUFBQSxDQUNBTCxFQUNBRSxFQUNBQyxHQUlBQSxFQUFBRyxRQUFBLFNBQUE1QixHQUNBcUIsRUFBQVEsY0FBQTdCLEVBQUEyQixFQUhBLFdBTUFELEVBQUFFLFFBQUEsU0FBQTVCLEdBQ0FxQixFQUFBRCxZQUFBVSxTQUFBTixFQVBBLFdBUUFILEVBQUFRLGNBQUE3QixFQUFBMkIsRUFSQSxhSjJLSyxDQUNEcEUsSUFBSyxnQkFDTE8sTUFBTyxTSWhLWGtDLEVBQUErQixFQUFBQyxHQUFBLElBQUFDLEVBQUFwRSxLQUNBbUMsRUFBQWtDLGlCQUNBSCxFQUFBcEMsUUFBQSxTQUFBNUIsR0FDQWtFLEVBQUFiLFlBQUFlLFlBQUFwRSxFQUFBaUUsU0p1S1NiLEVBekNULEdBaktBaUIsUUFBQSxJQUFBakIsUUFDQWlCLFFBQUFDLE9BR0EsSUFBQW5ELFdBQUEsSUFBQUQsV0FDQUMsV0FBQW1EIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vSW5jbHVkZSBKUyBmaWxlcyBmcm9tIGluY2x1ZGUgZm9sZGVyIGhlcmUgYW5kIHNvcnQgdGhlbSBhY2NvcmRpbmcgdG8gaXRzIGRlcGVuZGVuY2llc1xyXG5cclxuLy9DYWxsIHNpZGViYXIuanNcclxubGV0IHNpZGVCYXIgPSBuZXcgU2lkZUJhcigpXHJcbnNpZGVCYXIuaW5pdCgpXHJcblxyXG4vL0NhbGwgYW5pbWF0aW9ucy5qc1xyXG5sZXQgYW5pbWF0aW9ucyA9IG5ldyBBbmltYXRpb25zKClcclxuYW5pbWF0aW9ucy5pbml0KCkiLCJjbGFzcyBBdHRySGVscGVyIHtcclxuICAgIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGxldCBjbGFzc2VzID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoL1xccysvKSxcclxuICAgICAgICAgICAgbGVuZ3RoID0gY2xhc3Nlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGkgPSAwXHJcblxyXG4gICAgICAgIGZvcig7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGNsYXNzZXNbaV0gPT09IGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjbGFzc2VzLnNwbGljZShpLCAxKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGhlIGNsYXNzTmFtZSBpcyBub3QgZm91bmRcclxuICAgICAgICBpZiAobGVuZ3RoID09PSBjbGFzc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NOYW1lKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxyXG4gICAgfVxyXG5cclxuICAgIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc05hbWUpICE9PSAtMVxyXG4gICAgfVxyXG59IiwiY2xhc3MgUG9zaXRpb25IZWxwZXIge1xyXG4gICAgaXNTY3JvbGxlZEludG9WaWV3KGVsKSB7XHJcbiAgICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGxldCBlbF90b3AgPSByZWN0LnRvcDtcclxuICAgICAgbGV0IGVsX2JvdCA9IHJlY3QuYm90dG9tO1xyXG5cclxuICAgICAgLy9sZXQgaXNWaXNpYmxlID0gKGVsX3RvcCA+PSAwKSAmJiAoZWxfYm90IDw9IHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgXHJcbiAgICAgIGxldCBpc1Zpc2libGUgPSBlbF90b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgZWxfYm90ID49IDA7XHJcbiAgICAgIHJldHVybiBpc1Zpc2libGU7XHJcbiAgfVxyXG59IiwiLypcclxuKlxyXG5BbmltYXRpb25zIENsYXNzIC0gYnkgc2NhdmVudHVtXHJcbipcclxuVXNhZ2U6XHJcbjEuIEFkZCA8ZGF0YS1hbmltYXRpb249XCJbb3B0aW9uc11cIj4gYXMgcmVxdWlyZWQgZWxlbWVudCBhdHRyaWJ1dGUuXHJcbiAgIFtvcHRpb25zXSBhdmFpbGFibGU6XHJcbiAgIC0gdHlwZXdyaXRlclxyXG4yLiBBZGQgPGRhdGEtYW5pbWF0aW9uLXNwZWVkPVwiW3ZhbHVlXVwiPiBhcyBvcHRpb25hbCBlbGVtZW50IGF0dHJpYnV0ZS5cclxuICAgW3ZhbHVlXTogcG9zaXRpdmUgaW50ZWdlciBpbiBtaWxsaXNlY29uZHMgXHJcbipcclxuKi9cclxuXHJcbmNsYXNzIEFuaW1hdGlvbnMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge31cclxuICAgICAgICB0aGlzLnNwZWVkID0gMTAwXHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbl9oZWxwZXIgPSBuZXcgUG9zaXRpb25IZWxwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKXtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtYW5pbWF0aW9uXVwiKSlcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBpZih0aGlzLnBvc2l0aW9uX2hlbHBlci5pc1Njcm9sbGVkSW50b1ZpZXcoYW5pbWF0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMucG9zaXRpb25faGVscGVyLmlzU2Nyb2xsZWRJbnRvVmlldyhhbmltYXRpb24pKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYW5pbWF0ZShhbmltYXRpb24pe1xyXG4gICAgICAgIGxldCBhbmltYXRpb25fdHlwZSA9IGFuaW1hdGlvbi5kYXRhc2V0LmFuaW1hdGlvbiB8fCBhbmltYXRpb24uZ2V0QXR0cmlidXRlKCdhbmltYXRpb24nKVxyXG4gICAgICAgIGxldCBhbmltYXRpb25fc3BlZWQgPSBhbmltYXRpb24uZGF0YXNldC5hbmltYXRpb25TcGVlZCB8fCB0aGlzLnNwZWVkXHJcbiAgICAgICAgYW5pbWF0aW9uX3NwZWVkID0gaXNOYU4oYW5pbWF0aW9uX3NwZWVkKSA/IHRoaXMuc3BlZWQgOiBhbmltYXRpb25fc3BlZWRcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzW2FuaW1hdGlvbl90eXBlXSA9PT0gXCJmdW5jdGlvblwiKSB7IFxyXG4gICAgICAgICAgICB0aGlzW2FuaW1hdGlvbl90eXBlXShhbmltYXRpb24sYW5pbWF0aW9uX3NwZWVkKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJlbW92ZUFuaW1hdGlvbihhbmltYXRpb24pXHJcbiAgICB9XHJcblxyXG4gICAgdHlwZXdyaXRlcihhbmltYXRpb24sc3BlZWQsZnVsbF9zdHJpbmcgPSBcIlwiLHRlbXBfc3RyaW5nID0gXCJcIixpID0gMCl7XHJcbiAgICAgICAgZnVsbF9zdHJpbmcgPSBmdWxsX3N0cmluZy5sZW5ndGggPT0gMCA/IGFuaW1hdGlvbi5pbm5lckhUTUwgOiBmdWxsX3N0cmluZ1xyXG4gICAgICAgIGxldCBsaW1pdCA9IGZ1bGxfc3RyaW5nLmxlbmd0aFxyXG5cclxuICAgICAgICBhbmltYXRpb24uaW5uZXJIVE1MID0gdGVtcF9zdHJpbmdcclxuICAgICAgICB0ZW1wX3N0cmluZyArPSBmdWxsX3N0cmluZy5jaGFyQXQoaSlcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uLmlubmVySFRNTCA9IHRlbXBfc3RyaW5nICtcIjxzcGFuIGNsYXNzPSd0eXB3cml0ZXJfX2JsaW5rJz5fPC9zcGFuPlwiXHJcblxyXG4gICAgICAgIGlmKGkgPCBsaW1pdCl7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGV3cml0ZXIoYW5pbWF0aW9uLHNwZWVkLGZ1bGxfc3RyaW5nLHRlbXBfc3RyaW5nLGkpXHJcbiAgICAgICAgICAgIH0sIHNwZWVkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBbmltYXRpb24oYW5pbWF0aW9uKXtcclxuICAgICAgICBhbmltYXRpb24ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFuaW1hdGlvbicpXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWFuaW1hdGlvbl1cIikpXHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIi8qXHJcbipcclxuU2lkZUJhciBDbGFzcyAtIGJ5IHNjYXZlbnR1bSBmcm9tIFB1cmUuY3NzXHJcbipcclxuKi9cclxuXHJcbmNsYXNzIFNpZGVCYXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRyX2hlbHBlciA9IG5ldyBBdHRySGVscGVyKClcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHZhciBsYXlvdXQgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXlvdXQnKSxcclxuICAgICAgICAgICAgbWVudSAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudScpLFxyXG4gICAgICAgICAgICBtZW51TGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51TGluaycpLFxyXG4gICAgICAgICAgICBjb250ZW50ICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJylcclxuXHJcbiAgICAgICAgbGV0IHRvZ2dsZWRFbGVtZW50ID0gW1xyXG4gICAgICAgICAgICBsYXlvdXQsXHJcbiAgICAgICAgICAgIG1lbnUsXHJcbiAgICAgICAgICAgIG1lbnVMaW5rXHJcbiAgICAgICAgXSxcclxuICAgICAgICBhY3RpdmUgPSAnYWN0aXZlJ1xyXG5cclxuICAgICAgICBtZW51TGluay5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVTaWRlQmFyKGUsIHRvZ2dsZWRFbGVtZW50LCBhY3RpdmUpXHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIGNvbnRlbnQub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJfaGVscGVyLmhhc0NsYXNzKG1lbnUsYWN0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTaWRlQmFyKGUsIHRvZ2dsZWRFbGVtZW50LCBhY3RpdmUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNpZGVCYXIoZSwgZWxlbWVudHMsIGFjdGl2ZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuYXR0cl9oZWxwZXIudG9nZ2xlQ2xhc3MoZWxlbWVudCwgYWN0aXZlKSBcclxuICAgICAgICB9KSBcclxuICAgIH1cclxufVxyXG4iXX0=
